<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>SAI RAM TRAVELS</title>
    <style>
     button{
      background:white;
    }

    button:hover {
      background:green;
    }

    
    body{
      background: url(inside.jpg);
      margin-top: 80px;
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
    }
    td{
      font-family: monoscope;

      font-size: 20px;
    }
    h1{
      background-color: pink;
      font-family: arial;
    }
    .btn-default:hover{
      background: green;
    }
       
     .back {
      margin:20px;
      margin-right: 10px;
        max-width: 500px;
        background: rgb(100, 100,900,0.9)
    }
    
  </style>
</head>
  <body >
<center>  
      <div class="back" align="center">

      <table align="center">
        <tr>
          <td height="2" bgcolor="red" width="15%"></td><td width="5%"></td><td>unavailable</td>
        </tr>
        <tr><td><br></td><tr>
        <tr>
          <td height="2" bgcolor="yellow" width="15%"></td><td width="2%"></td><td>currently selected</td>
        </tr>
        <tr><td><br></td><tr>
        <tr>
          <td height="2" bgcolor="white" width="15%"></td><td width="2%"></td><td>available</td>
        </tr>
      </table>
      <hr>

    <table align="center" >
      <tr>
        
        <td align = "right" width="73%">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="driver.jpg" height="30" alt="no image"/>
        </td>

      </tr>
      <tr><td align="right">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Driver</td> </tr>
    </table><br>
      <table >
      <tr>
          <td>

            <table  valign="top">
              <tr><td><button name = "s1" id ="1" abbr title="seat no:1|Rs:600" class="notallowed" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s2" id ="2" abbr title="seat no:2|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
              <tr><td><button name = "s5" id ="5" abbr title="seat no:5|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s6" id ="6" abbr title="seat no:6|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
              <tr><td><button name = "s9" id ="9" abbr title="seat no:9|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s10" id ="10" abbr title="seat no:10|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
              <tr><td><button name = "s13" id ="13" abbr title="seat no:13|Rs:600" class="notallowed"><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s14" id ="14" abbr title="Rs:14|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
              <tr><td><button name = "s17" id ="17" abbr title="seat no:17|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s18" id ="18" abbr title="seat no:18|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            </table>
          </td>
		  <td width="5%"></td>
        <td>
          <table  valign="top">
            <tr><td><button name = "s3" id ="3" abbr title="seat no:3|Rs:600"><img src="busseat.jpg" align="center" height="50" width="50" alt="No image"/></button></td><td><button name = "s4" id ="4" abbr title="seat no:4|Rs:600" class="notallowed"><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s7" id ="7" abbr title="seat no:7|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s8" id ="8" abbr title="seat no:8|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s11" id ="11" abbr title="seat no:11|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s12" id ="12" abbr title="seat no:12|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s15" id ="15" abbr title="seat no:15|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s16" id ="16" abbr title="seat no:16|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s19" id ="19" abbr title="seat no:19|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s20" id ="20" abbr title="seat no:20|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
          </table>
        </td>
		</tr>
		<tr>
         <td>
          <table  valign="bottom">
            <tr><td><button name = "s21" id ="21" abbr title="seat no:21|FARE INR:600"><img src="busseat.jpg" align="center" height="50" width="50" alt="image not found "/></button></td><td><button name = "s22" id ="22" abbr title="seat no:22|Rs:600" class="notallowed"><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s25" id ="25" abbr title="seat no:25|FARE INR:600" ><img src="busseat.jpg"align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s26" id ="26" abbr title="seat no:26|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s29" id ="29" abbr title="seat no:29|FARE INR:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s30" id ="30" abbr title="seat no:30|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s33" id ="33" abbr title="seat no:33|FARE INR:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s34" id ="34" abbr title="seat no:34|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s37" id ="37" abbr title="seat no:37|FARE INR:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s38" id ="38" abbr title="seat no:38|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
          </table>
        </td>
		<td width="5%"></td>
         <td>
          <table  valign="bottom">
            <tr><td><button name = "s23" id ="23" abbr title="seat no:23|FARE INR:600"><img src="busseat.jpg" align="center" height="50" width="50" alt="Nice green circle"/></button></td><td><button name = "s24" id ="24" abbr title="seat no:24|Rs:600" class="notallowed"><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s27" id ="27" abbr title="seat no:27|FARE INR:600" ><img src="busseat.jpg"align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s28" id ="28" abbr title="seat no:28|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s31" id ="31" abbr title="seat no:31|FARE INR:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s32" id ="32" abbr title="seat no:32|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s35" id ="35" abbr title="seat no:35|FARE INR:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s36" id ="36" abbr title="seat no:36|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
            <tr><td><button name = "s39" id ="39" abbr title="seat no:39|FARE INR:600" ><img src="busseat.jpg" align="center" height="50" width="50" alt="no image"/></button></td><td><button name = "s40" id ="40" abbr title="seat no:40|Rs:600" ><img src="busseat.jpg" align="center" height="50" width="50"></button></td></tr>
          </table>
        </td>
     </tr>
    


    </table>

    <hr>
    <table  border="4">
        <tr><td>TOTAL SEATS</td><td>40</td></tr>
      </table><br><br><span id="value"></span><span id="count"></span>
    <center><button type="button" class="btn btn-default notallowed allowed" onclick="payment()" ><span><strong>PROCEED TO PAYMENT</strong></span></button></input><br>
      <center><span id="noseats"></span></center>


      </div>
	  </center>
  </body>
<script>

var buttons = document.getElementsByName("but");
var selected_seats = [];
var available_seats=36;
var booked_seats=0;
var str=[];
var n=0;
function changeColor(){
  if(this.style.background == "yellow"){
    this.style.background = "white";

    available_seats++;
    var ava=document.getElementById("value");
    selected_seats.splice(selected_seats.indexOf(this.id),1);
    n--;
    if(n==0){
      var enable=document.querySelector(".allowed");
      enable.classList.add("notallowed");
  enable.classList.remove("payment");
    }
    var x=document.getElementById("count");

  }

  else {
  this.style.background = "yellow";
  available_seats--;
  var ava=document.getElementById("value");
  selected_seats.push(this.id);
  n++;
    var x=document.getElementById("count");
  var enable=document.querySelector(".allowed");
  enable.classList.remove("notallowed");
  enable.classList.add("payment");

}
}
function notallowed(){

  this.style.background = "red"
  this.classList.add("notallowed");

}
function notallowedClick(){
  alert("Sorry, the seat has already been reserved");
}

for(const b of buttons){
  if(b.classList.contains("notallowed"))
  {
    b.addEventListener("mouseover",notallowed);
    b.addEventListener("click",notallowedClick);

  }
  else {
    b.addEventListener("click",changeColor);
  }

}0
function payment(){
  var n=selected_seats.length;
  if(n==0){
    alert("please select seats to reserve");
  }
  else{
    for(var i=0;i<selected_seats.length;i++)
    {
       str[i]=selected_seats[i];
    }
    str.toString();
    var booked_seats=36-available_seats;
    var amount=n*600;
    document.writeln("<html><head><link href="+"https://fonts.googleapis.com/css?family=Arvo|Chicle|Indie+Flower|Lobster|Press+Start+2P"+"rel="+"stylesheet"+"></head><body bgcolor=cyan align=center margin-top:50px font-family=lobster><div class=back><strong>THANKS YOU</strong></div><br><br><form action=update.php method=post>NUMBER OF SEATS BOOKED:<input value="+booked_seats+" name=booked readonly><br><br>YOUR SEAT NUMBERS ARE:"+str+"<br><br>AMOUNT TO BE PAID:"+amount+"<br><br><button type=submit class=btn btn-default notallowed allowed name=sunmit>confirm your booking</button></body></html>")
    }
  }

  </script>


</html>
